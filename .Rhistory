source('get_transactions.R')
setwd("~/Projects/rynab")
source('get_transactions.R')
budget_id <- read_file('.keys/budget_id') %>% str_trim()
trx <- get_transactions(budget_id = budget_id, since_date = '2015-01-01')
trx_for_export <-
trx %>%
filter(data.transactions.flag_color %in% c('red', 'purple')) %>%
transmute(
Timestamp = as.Date(data.transactions.date),
Payee = 'Ryder',
Amount = data.transactions.amount / 1000 * -1,
Purpose = case_when(.$data.transactions.flag_color == 'red' ~ 'for us',
.$data.transactions.flag_color == 'purple' ~ 'for you'),
Description = paste(data.transactions.payee_name, data.transactions.memo, sep= ' - ')
)
trx %>%
filter(grepl('groceries', str_to_lower(data.transactions.category_name))) %>%
mutate(data.transactions.amount = data.transactions.amount / -1000,
data.transactions.date = as.Date(data.transactions.date)) -> t
plot(t$data.transactions.date, t$data.transactions.amount)
trx %>%
filter(grepl('alcohol', str_to_lower(data.transactions.category_name))) %>%
mutate(data.transactions.amount = data.transactions.amount / -1000,
data.transactions.date = as.Date(data.transactions.date)) -> t
plot(t$data.transactions.date, t$data.transactions.amount)
trx %>%
filter(grepl('travel', str_to_lower(data.transactions.category_name))) %>%
mutate(data.transactions.amount = data.transactions.amount / -1000,
data.transactions.date = as.Date(data.transactions.date)) -> t
plot(t$data.transactions.date, t$data.transactions.amount)
trx %>%
filter(grepl('travel', str_to_lower(data.transactions.category_name))) %>%
filter(data.transactions.amount < 0) %>%
mutate(data.transactions.amount = data.transactions.amount / -1000,
data.transactions.date = as.Date(data.transactions.date)) -> t
plot(t$data.transactions.date, t$data.transactions.amount)
plot(t$data.transactions.date, t$data.transactions.amount, label.cex = 0.7)
plot(t$data.transactions.date, t$data.transactions.amount, cex = 0.7)
plot(t$data.transactions.date, t$data.transactions.amount, cex = 0.2)
